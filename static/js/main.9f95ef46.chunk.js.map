{"version":3,"sources":["services/userAPI.js","componentes/Loading.js","Pages/Login.js","services/searchAlbumsAPI.js","componentes/Header.js","Pages/Search.js","services/musicsAPI.js","services/favoriteSongsAPI.js","componentes/MusicCard.js","Pages/Album.js","Pages/Favorites.js","Pages/Profile.js","Pages/ProfileEdit.js","Pages/NotFound.js","Pages/Pages.js","App.js","index.js"],"names":["USER_KEY","saveUser","user","localStorage","setItem","JSON","stringify","simulateRequest","response","callback","setTimeout","getUser","Promise","resolve","parse","getItem","Loading","Component","Login","onInputChange","target","name","value","setState","clickButton","inputName","state","isLoading","email","image","description","this","disabledButton","length","type","onChange","to","disabled","onClick","searchAlbumsAPI","artist","a","artistNameURL","encodeURI","replaceAll","getAlbumsAPI","fetch","APIResponse","json","results","map","artistId","artistName","collectionId","collectionName","collectionPrice","artworkUrl100","releaseDate","trackCount","Header","then","nameUser","Search","handleArtist","ArtistInput","inputAlbum","searchArtistInput","i","src","alt","getMusics","id","request","requestJson","FAVORITE_SONGS_KEY","readFavoriteSongs","saveFavoriteSongs","favoriteSongs","MusicCard","handleChange","song","props","addSong","favorite","getFavorite","checked","trackName","previewUrl","trackId","controls","kind","htmlFor","Album","fetchMusics","match","params","result","favorites","musics","resultOne","isChecked","some","collectionImage","tracks","filter","music","undefined","Favorites","Profile","ProfileEdit","NotFound","Pages","exact","path","component","App","React","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9f95ef46.chunk.js","sourcesContent":["const USER_KEY = 'user';\nconst TIMEOUT = 1500;\nconst SUCCESS_STATUS = 'OK';\n\nconst readUser = () => JSON.parse(localStorage.getItem(USER_KEY));\nconst saveUser = (user) => localStorage.setItem(USER_KEY, JSON.stringify(user));\n\n// --------------------------------------------------------------------\n// A função simulateRequest simula uma requisição para uma API externa\n// Esse tipo de função que \"chama outra função\" é chamada de\n// \"currying function\" https://javascript.info/currying-partials\n// não se preocupe, estudaremos isso mais futuramente\n// --------------------------------------------------------------------\n\nconst simulateRequest = (response) => (callback) => {\n  setTimeout(() => {\n    callback(response);\n  }, TIMEOUT);\n};\n\nexport const getUser = () => new Promise((resolve) => {\n  let user = readUser();\n  if (user === null) {\n    user = {};\n  }\n  simulateRequest(user)(resolve);\n});\n\nexport const createUser = (user) => new Promise((resolve) => {\n  const emptyUser = {\n    name: '',\n    email: '',\n    image: '',\n    description: '',\n  };\n  saveUser({ ...emptyUser, ...user });\n  simulateRequest(SUCCESS_STATUS)(resolve);\n});\n\nexport const updateUser = (updatedUser) => new Promise((resolve) => {\n  saveUser({ ...updatedUser });\n  simulateRequest(SUCCESS_STATUS)(resolve);\n});\n","import React, { Component } from 'react';\n\nexport default class Loading extends Component {\n  render() {\n    return (\n      <div>\n        <p>Carregando...</p>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { createUser } from '../services/userAPI';\nimport Loading from '../componentes/Loading';\n\nexport default class Login extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      inputName: '',\n      isLoading: false,\n    };\n  }\n\n  onInputChange = ({ target: { name, value } }) => {\n    this.setState({\n      [name]: value,\n    });\n  };\n\n  clickButton = () => {\n    const { inputName } = this.state;\n    this.setState({\n      isLoading: true,\n    });\n\n    createUser({ name: inputName });\n  };\n\n  render() {\n    const { inputName, isLoading } = this.state;\n    const { onInputChange, clickButton } = this;\n    const minCharacters = 3;\n    const disabledButton = inputName.length < minCharacters;\n\n    return (\n      <div data-testid=\"page-login\">\n\n        { isLoading && <Loading />}\n        <form>\n          <input\n            data-testid=\"login-name-input\"\n            name=\"inputName\"\n            type=\"text\"\n            value={ inputName }\n            onChange={ onInputChange }\n          />\n\n          <Link to=\"/search\">\n            <button\n              data-testid=\"login-submit-button\"\n              disabled={ disabledButton }\n              type=\"submit\"\n              onClick={ clickButton }\n            >\n              Entrar\n            </button>\n\n          </Link>\n        </form>\n      </div>\n    );\n  }\n}\n","const searchAlbumsAPI = async (artist) => {\n  const artistNameURL = encodeURI(artist).replaceAll('%20', '+');\n\n  const getAlbumsAPI = `https://itunes.apple.com/search?entity=album&term=${artistNameURL}&attribute=allArtistTerm`;\n\n  const APIResponse = await fetch(getAlbumsAPI);\n\n  const { results } = await APIResponse.json();\n\n  const response = results.map(\n    ({\n      artistId,\n      artistName,\n      collectionId,\n      collectionName,\n      collectionPrice,\n      artworkUrl100,\n      releaseDate,\n      trackCount,\n    }) => ({\n      artistId,\n      artistName,\n      collectionId,\n      collectionName,\n      collectionPrice,\n      artworkUrl100,\n      releaseDate,\n      trackCount,\n    }),\n  );\n  return response;\n};\n\nexport default searchAlbumsAPI;\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { getUser } from '../services/userAPI';\nimport Loading from './Loading';\n\nexport default class Header extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      user: '',\n    };\n  }\n\n  componentDidMount() {\n    getUser()\n      .then((nameUser) => this.setState({ user: nameUser }));\n  }\n\n  render() {\n    const { user } = this.state;\n    return (\n      <header data-testid=\"header-component\">\n        {!user && <Loading />}\n        {user && (\n          <>\n            <p data-testid=\"header-user-name\">\n              { user.name }\n            </p>\n\n            <nav>\n              <Link to=\"/search\">\n                <p data-testid=\"link-to-search\"> Pesquisar </p>\n              </Link>\n\n              <Link to=\"/favorites\">\n                <p data-testid=\"link-to-favorites\"> Favoritos </p>\n              </Link>\n\n              <Link to=\"/profile\">\n                <p data-testid=\"link-to-profile\"> Perfil </p>\n              </Link>\n\n            </nav>\n          </>\n        )}\n\n      </header>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport searchAlbumsAPI from '../services/searchAlbumsAPI';\nimport Header from '../componentes/Header';\nimport Loading from '../componentes/Loading';\n\nclass Search extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      searchArtistInput: '',\n      isLoading: false,\n      artist: [],\n      inputAlbum: '',\n\n    };\n  }\n\n  onInputChange = ({ target: { name, value } }) => {\n    this.setState({\n      [name]: value,\n    });\n  }\n\n  handleArtist = async (ArtistInput) => {\n    this.setState({ isLoading: true });\n\n    const artist = await searchAlbumsAPI(ArtistInput);\n    if (artist.length !== 0) {\n      return this.setState({\n        isLoading: false,\n        inputAlbum: `Resultado de álbuns de: ${ArtistInput}`,\n        searchArtistInput: '',\n        artist,\n      });\n    }\n\n    return this.setState({\n      isLoading: false,\n      inputAlbum: 'Nenhum álbum foi encontrado',\n      searchArtistInput: '',\n    });\n  };\n\n  render() {\n    const { searchArtistInput, isLoading, artist, inputAlbum } = this.state;\n    const { onInputChange, handleArtist } = this;\n    const minCharacters = 2;\n    const disabledButton = searchArtistInput.length < minCharacters;\n\n    /* Consultei o repositório do GABRIEL ARAUJO para resolver essa parte.\n        * Link- https://github.com/tryber/sd-016-a-project-trybetunes/pull/5/commits/2ee6249944493b2ddbe2fb6899fb865aa7c36398 */\n    return (\n      <>\n        <div />\n        <Header />\n\n        {isLoading === true\n          ? <Loading />\n          : (\n            <div data-testid=\"page-search\">\n              <input\n                data-testid=\"search-artist-input\"\n                type=\"text\"\n                name=\"searchArtistInput\"\n                value={ searchArtistInput }\n                onChange={ onInputChange }\n              />\n\n              <button\n                data-testid=\"search-artist-button\"\n                type=\"submit\"\n                name=\"searchArtistButton\"\n                disabled={ disabledButton }\n                onClick={ () => handleArtist(searchArtistInput) }\n              >\n                Pesquisar\n              </button>\n            </div>\n          )}\n\n        <div>\n          <h3>{ inputAlbum }</h3>\n          <ul>\n            {artist.map((i) => (\n              <li key=\"info.artistId\">\n                <p>{i.searchArtistInput }</p>\n                <h4>{i.collectionName}</h4>\n                <p>\n                  {i.collectionPrice}\n                </p>\n                <img src={ i.artworkUrl100 } alt={ i.collectionName } />\n                <Link\n                  data-testid={ `link-to-album-${i.collectionId}` }\n                  to={ `/album/${i.collectionId}` }\n                >\n                  Album Completo\n                </Link>\n              </li>\n\n            ))}\n          </ul>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default Search;\n","const getMusics = async (id) => {\n  const request = await fetch(`https://itunes.apple.com/lookup?id=${id}&entity=song`);\n  const requestJson = await request.json();\n  return requestJson.results;\n};\n\nexport default getMusics;\n","const FAVORITE_SONGS_KEY = 'favorite_songs';\nconst TIMEOUT = 500;\nconst SUCCESS_STATUS = 'OK';\n\nif (!JSON.parse(localStorage.getItem(FAVORITE_SONGS_KEY))) {\n  localStorage.setItem(FAVORITE_SONGS_KEY, JSON.stringify([]));\n}\nconst readFavoriteSongs = () => JSON.parse(localStorage.getItem(FAVORITE_SONGS_KEY));\n\nconst saveFavoriteSongs = (favoriteSongs) => localStorage\n  .setItem(FAVORITE_SONGS_KEY, JSON.stringify(favoriteSongs));\n\n// --------------------------------------------------------------------\n// A função simulateRequest simula uma requisição para uma API externa\n// Esse tipo de função que \"chama outra função\" é chamada de\n// \"currying function\" https://javascript.info/currying-partials\n// não se preocupe, estudaremos isso futuramente.\n// --------------------------------------------------------------------\n\nconst simulateRequest = (response) => (callback) => {\n  setTimeout(() => {\n    callback(response);\n  }, TIMEOUT);\n};\n\nexport const getFavoriteSongs = () => new Promise((resolve) => {\n  const favoriteSongs = readFavoriteSongs();\n  simulateRequest(favoriteSongs)(resolve);\n});\n\nexport const addSong = (song) => new Promise((resolve) => {\n  if (song) {\n    const favoriteSongs = readFavoriteSongs();\n    saveFavoriteSongs([...favoriteSongs, song]);\n  }\n  simulateRequest(SUCCESS_STATUS)(resolve);\n});\n\nexport const removeSong = (song) => new Promise((resolve) => {\n  const favoriteSongs = readFavoriteSongs();\n  saveFavoriteSongs(favoriteSongs.filter((s) => s.trackId !== song.trackId));\n  simulateRequest(SUCCESS_STATUS)(resolve);\n});\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { addSong } from '../services/favoriteSongsAPI';\nimport Loading from './Loading';\n\nexport default class MusicCard extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      isLoading: false,\n      favorite: false,\n    };\n  }\n  /* Consultei o repositório do Fernanda Andrade para resolver essa parte.\n        * https://github.com/tryber/sd-016-a-project-trybetunes/pull/54/commits/05462d67bc128a47aa8a7ed94b123ef2b5b45235 */\n\n  componentDidMount() {\n    this.getFavorite();\n  }\n\n  handleChange = () => {\n    const { song } = this.props;\n    this.setState({\n      isLoading: true,\n    }, () => {\n      addSong(song).then(() => {\n        this.setState({ isLoading: false, favorite: true });\n      });\n    });\n  }\n\n  /* Consultei o repositório do Fernanda Andrade para resolver essa parte.\n        *https://github.com/tryber/sd-016-a-project-trybetunes/pull/54/commits/6382003426e232872e79668836ef3655cf68821e */\n\n  getFavorite = () => {\n    const { checked } = this.props;\n    if (checked === true) {\n      this.setState({\n        favorite: true,\n      });\n    }\n  }\n\n  render() {\n    const { trackName, previewUrl, trackId } = this.props;\n    const { isLoading, favorite } = this.state;\n    const { handleChange } = this;\n    return (\n      isLoading ? <Loading /> : (\n        <div>\n          <h2>\n            { trackName }\n          </h2>\n\n          <audio data-testid=\"audio-component\" src={ previewUrl } controls>\n            <track kind=\"captions\" />\n            O seu navegador não suporta o elemento\n            <code>audio</code>\n          </audio>\n\n          <label htmlFor=\"inputFavorite\">\n            Favorita\n            <input\n              name=\"inputFavorite\"\n              type=\"checkbox\"\n              data-testid={ `checkbox-music-${trackId}` }\n              checked={ favorite }\n              onChange={ handleChange }\n\n            />\n          </label>\n\n        </div>\n      ));\n  }\n}\n\nMusicCard.propTypes = {\n  trackName: PropTypes.string.isRequired,\n  previewUrl: PropTypes.string.isRequired,\n  trackId: PropTypes.number.isRequired,\n  checked: PropTypes.bool.isRequired,\n  song: PropTypes.shape({\n    trackId: PropTypes.number,\n  }).isRequired,\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Header from '../componentes/Header';\nimport getMusics from '../services/musicsAPI';\nimport MusicCard from '../componentes/MusicCard';\nimport { getFavoriteSongs } from '../services/favoriteSongsAPI';\n\nclass Album extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      artistName: '',\n      collectionName: '',\n      collectionImage: '',\n      tracks: [],\n    };\n  }\n\n  /* Consultei o repositório do Fernanda Andrade para resolver essa parte.\n        * Link- https://github.com/tryber/sd-016-a-project-trybetunes/pull/54/commits/c25963ccd2d7c52c279ed40128583cfe36ed41b2 */\n  componentDidMount() {\n    this.fetchMusics();\n  }\n\n        fetchMusics = async () => {\n          const { match: { params: { id } } } = this.props;\n          const result = await getMusics(id);\n          const favorites = await getFavoriteSongs();\n          const musics = result.map((resultOne) => (\n            {\n              ...resultOne,\n              isChecked: favorites\n                .some((favorite) => favorite.trackId === resultOne.trackId),\n            }\n          ));\n\n          this.setState({\n            artistName: musics[0].artistName,\n            collectionName: musics[0].collectionName,\n            collectionImage: musics[0].artworkUrl100,\n          }, () => {\n            this.setState({\n              tracks: [...musics],\n            });\n          });\n        }\n\n        render() {\n          const { artistName, collectionName, collectionImage, tracks } = this.state;\n          return (\n            <>\n              <div data-testid=\"page-album\" />\n              <Header />\n\n              <img src={ collectionImage } alt={ collectionName } />\n\n              <h3 data-testid=\"artist-name\">\n                { artistName }\n              </h3>\n              <h3 data-testid=\"album-name\">\n                {collectionName}\n              </h3>\n\n              {\n                tracks\n                  .filter((music) => music.previewUrl !== undefined)\n                  .map((music) => (\n                    <MusicCard\n                      key={ music.trackId }\n                      trackName={ music.trackName }\n                      previewUrl={ music.previewUrl }\n                      trackId={ music.trackId }\n                      song={ music }\n                      checked={ music.isChecked }\n                    />\n                  ))\n              }\n            </>\n\n          );\n        }\n}\n\nAlbum.propTypes = {\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      id: PropTypes.string.isRequired,\n    }),\n  }).isRequired,\n};\n\nexport default Album;\n","import React, { Component } from 'react';\nimport Header from '../componentes/Header';\n\nclass Favorites extends Component {\n  render() {\n    return (\n      <>\n        <div data-testid=\"page-favorites\" />\n        <Header />\n      </>\n\n    );\n  }\n}\n\nexport default Favorites;\n","import React, { Component } from 'react';\nimport Header from '../componentes/Header';\n\nclass Profile extends Component {\n  render() {\n    return (\n      <>\n        <div data-testid=\"page-profile\" />\n        <Header />\n      </>\n\n    );\n  }\n}\n\nexport default Profile;\n","import React, { Component } from 'react';\nimport Header from '../componentes/Header';\n\nclass ProfileEdit extends Component {\n  render() {\n    return (\n      <>\n        <div data-testid=\"page-profile-edit\" />\n        <Header />\n      </>\n\n    );\n  }\n}\n\nexport default ProfileEdit;\n","import React, { Component } from 'react';\n\nclass NotFound extends Component {\n  render() {\n    return (\n      <div data-testid=\"page-not-found\" />\n    );\n  }\n}\n\nexport default NotFound;\n","import React, { Component } from 'react';\nimport { BrowserRouter, Route } from 'react-router-dom';\nimport Login from './Login';\nimport Search from './Search';\nimport Album from './Album';\nimport Favorites from './Favorites';\nimport Profile from './Profile';\nimport ProfileEdit from './ProfileEdit';\nimport NotFound from './NotFound';\n\nclass Pages extends Component {\n  render() {\n    return (\n      <BrowserRouter>\n        <switch>\n          <Route exact path=\"/\" component={ Login } />\n\n          <Route exact path=\"/search\" component={ Search } />\n\n          <Route exact path=\"/album/:id\" component={ Album } />\n\n          <Route exact path=\"/favorites\" component={ Favorites } />\n\n          <Route exact path=\"/profile\" component={ Profile } />\n\n          <Route exact path=\"/profile/edit\" component={ ProfileEdit } />\n\n          <Route exact path=\"*\" component={ NotFound } />\n        </switch>\n      </BrowserRouter>\n    );\n  }\n}\n\nexport default Pages;\n","import React from 'react';\nimport { HashRouter } from 'react-router-dom';\nimport Pages from './Pages/Pages';\n\nclass App extends React.Component {\n  render() {\n    return (\n      <HashRouter>\n        <Pages />\n      </HashRouter>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}